package(default_visibility = ["//base:__subpackages__"])

filegroup(
    name = "headers",
    srcs = [
        "cancelable_task_tracker.h",
        "common/intrusive_heap.h",
        "lazy_task_runner.h",
        "post_task.h",
        "scoped_set_task_priority_for_current_thread.h",
        "sequence_manager/associated_thread_id.h",
        "sequence_manager/enqueue_order.h",
        "sequence_manager/lazily_deallocated_deque.h",
        "sequence_manager/lazy_now.h",
        "sequence_manager/real_time_domain.h",
        "sequence_manager/sequence_manager.h",
        "sequence_manager/sequence_manager_impl.h",
        "sequence_manager/sequenced_task_source.h",
        "sequence_manager/task_queue.h",
        "sequence_manager/task_queue_impl.h",
        "sequence_manager/task_queue_proxy.h",
        "sequence_manager/task_queue_selector.h",
        "sequence_manager/task_queue_selector_logic.h",
        "sequence_manager/task_queue_task_runner.h",
        "sequence_manager/task_time_observer.h",
        "sequence_manager/tasks.h",
        "sequence_manager/thread_controller.h",
        "sequence_manager/thread_controller_impl.h",
        "sequence_manager/thread_controller_with_message_pump_impl.h",
        "sequence_manager/time_domain.h",
        "sequence_manager/work_queue.h",
        "sequence_manager/work_queue_sets.h",
        "sequence_manager/moveable_auto_lock.h",
        "single_thread_task_runner_thread_mode.h",
        "task_executor.h",
        "task_features.h",
        "task_observer.h",
        "task_scheduler/can_schedule_sequence_observer.h",
        "task_scheduler/delayed_task_manager.h",
        "task_scheduler/environment_config.h",
        "task_scheduler/initialization_util.h",
        "task_scheduler/priority_queue.h",
        "task_scheduler/scheduler_lock.h",
        "task_scheduler/scheduler_lock_impl.h",
        "task_scheduler/scheduler_parallel_task_runner.h",
        "task_scheduler/scheduler_sequenced_task_runner.h",
        "task_scheduler/scheduler_single_thread_task_runner_manager.h",
        "task_scheduler/scheduler_task_runner_delegate.h",
        "task_scheduler/scheduler_worker.h",
        "task_scheduler/scheduler_worker_observer.h",
        "task_scheduler/scheduler_worker_params.h",
        "task_scheduler/scheduler_worker_pool.h",
        "task_scheduler/scheduler_worker_pool_impl.h",
        "task_scheduler/scheduler_worker_pool_params.h",
        "task_scheduler/scheduler_worker_stack.h",
        "task_scheduler/sequence.h",
        "task_scheduler/sequence_sort_key.h",
        "task_scheduler/service_thread.h",
        "task_scheduler/task.h",
        "task_scheduler/task_scheduler.h",
        "task_scheduler/task_scheduler_impl.h",
        "task_scheduler/task_tracker.h",
        "task_scheduler/tracked_ref.h",
        "task_traits.h",
        "task_traits_details.h",
        "task_traits_extension.h",
    ] + [
        # LINUX
        "task_scheduler/task_tracker_posix.h",
    ],
)

filegroup(
    name = "task",
    srcs = [
        "cancelable_task_tracker.cc",
        "lazy_task_runner.cc",
        "post_task.cc",
        "scoped_set_task_priority_for_current_thread.cc",
        "sequence_manager/enqueue_order.cc",
        "sequence_manager/lazy_now.cc",
        "sequence_manager/real_time_domain.cc",
        "sequence_manager/sequence_manager.cc",
        "sequence_manager/sequence_manager_impl.cc",
        "sequence_manager/task_queue.cc",
        "sequence_manager/task_queue_impl.cc",
        "sequence_manager/task_queue_proxy.cc",
        "sequence_manager/task_queue_selector.cc",
        "sequence_manager/task_queue_task_runner.cc",
        "sequence_manager/tasks.cc",
        "sequence_manager/thread_controller_impl.cc",
        "sequence_manager/thread_controller_with_message_pump_impl.cc",
        "sequence_manager/time_domain.cc",
        "sequence_manager/work_queue.cc",
        "sequence_manager/work_queue_sets.cc",
        "task_executor.cc",
        "task_features.cc",
        "task_scheduler/delayed_task_manager.cc",
        "task_scheduler/environment_config.cc",
        "task_scheduler/initialization_util.cc",
        "task_scheduler/priority_queue.cc",
        "task_scheduler/scheduler_lock_impl.cc",
        "task_scheduler/scheduler_parallel_task_runner.cc",
        "task_scheduler/scheduler_sequenced_task_runner.cc",
        "task_scheduler/scheduler_single_thread_task_runner_manager.cc",
        "task_scheduler/scheduler_task_runner_delegate.cc",
        "task_scheduler/scheduler_worker.cc",
        "task_scheduler/scheduler_worker_pool.cc",
        "task_scheduler/scheduler_worker_pool_impl.cc",
        "task_scheduler/scheduler_worker_pool_params.cc",
        "task_scheduler/scheduler_worker_stack.cc",
        "task_scheduler/sequence.cc",
        "task_scheduler/sequence_sort_key.cc",
        "task_scheduler/service_thread.cc",
        "task_scheduler/task.cc",
        "task_scheduler/task_scheduler.cc",
        "task_scheduler/task_scheduler_impl.cc",
        "task_scheduler/task_tracker.cc",
        "task_scheduler/task_tracker_posix.cc",
        "task_traits.cc",
    ],
)

filegroup(
    name = "test_support_headers",
    srcs = [
        "sequence_manager/test/fake_task.h",
        "sequence_manager/test/lazy_thread_controller_for_test.h",
        "sequence_manager/test/mock_time_domain.h",
        "sequence_manager/test/sequence_manager_for_test.h",
        "sequence_manager/test/test_task_queue.h",
        "sequence_manager/test/test_task_time_observer.h",
        "test_task_traits_extension.h",
    ],
)

filegroup(
    name = "test_support",
    srcs = [
        "sequence_manager/test/fake_task.cc",
        "sequence_manager/test/lazy_thread_controller_for_test.cc",
        "sequence_manager/test/mock_time_domain.cc",
        "sequence_manager/test/sequence_manager_for_test.cc",
        "sequence_manager/test/test_task_queue.cc",
        "test_task_traits_extension.cc",
    ],
)

filegroup(
    name = "unit_test",
    srcs = [
        "cancelable_task_tracker_unittest.cc",
        "common/intrusive_heap_unittest.cc",
        "lazy_task_runner_unittest.cc",
        "post_task_unittest.cc",
        "scoped_set_task_priority_for_current_thread_unittest.cc",
        "sequence_manager/lazily_deallocated_deque_unittest.cc",
        "sequence_manager/sequence_manager_impl_unittest.cc",
        "sequence_manager/task_queue_selector_unittest.cc",
        "sequence_manager/thread_controller_with_message_pump_impl_unittest.cc",
        "sequence_manager/time_domain_unittest.cc",
        "sequence_manager/work_queue_sets_unittest.cc",
        "sequence_manager/work_queue_unittest.cc",
        "task_scheduler/delayed_task_manager_unittest.cc",
        "task_scheduler/priority_queue_unittest.cc",
        "task_scheduler/scheduler_lock_unittest.cc",
        "task_scheduler/scheduler_single_thread_task_runner_manager_unittest.cc",
        "task_scheduler/scheduler_worker_pool_impl_unittest.cc",
        "task_scheduler/scheduler_worker_pool_unittest.cc",
        "task_scheduler/scheduler_worker_stack_unittest.cc",
        "task_scheduler/scheduler_worker_unittest.cc",
        "task_scheduler/sequence_sort_key_unittest.cc",
        "task_scheduler/sequence_unittest.cc",
        "task_scheduler/service_thread_unittest.cc",
        "task_scheduler/task_scheduler_impl_unittest.cc",
        "task_scheduler/task_tracker_posix_unittest.cc",
        "task_scheduler/task_tracker_unittest.cc",
        "task_scheduler/test_task_factory.cc",
        "task_scheduler/test_task_factory.h",
        "task_scheduler/test_utils.cc",
        "task_scheduler/test_utils.h",
        "task_scheduler/tracked_ref_unittest.cc",
        "task_traits_extension_unittest.cc",
        "task_traits_unittest.cc",
    ],
)
