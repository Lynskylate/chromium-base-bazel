package(default_visibility = ["//base:__subpackages__"])

load("//build:compiler.bzl", "CXXOPTS")

filegroup(
    name = "headers",
    srcs = [
        "auto_open_close_event.h",
        "blame_context.h",
        "category_registry.h",
        "common/trace_event_common.h",
        "event_name_filter.h",
        "heap_profiler.h",
        "heap_profiler_allocation_context.h",
        "heap_profiler_allocation_context_tracker.h",
        "heap_profiler_event_filter.h",
        "malloc_dump_provider.h",
        "memory_allocator_dump.h",
        "memory_allocator_dump_guid.h",
        "memory_dump_manager.h",
        "memory_dump_manager_test_utils.h",
        "memory_dump_provider.h",
        "memory_dump_provider_info.h",
        "memory_dump_request_args.h",
        "memory_dump_scheduler.h",
        "memory_infra_background_whitelist.h",
        "memory_usage_estimator.h",
        "process_memory_dump.h",
        "trace_buffer.h",
        "trace_category.h",
        "trace_config.h",
        "trace_config_category_filter.h",
        "trace_event.h",
        "trace_event_filter.h",
        "trace_event_impl.h",
        "trace_event_memory_overhead.h",
        "trace_event_system_stats_monitor.h",
        "trace_log.h",
        "traced_value.h",
        "tracing_agent.h",
    ],
)

filegroup(
    name = "trace_event",
    srcs = [
        "auto_open_close_event.cc",
        "blame_context.cc",
        "category_registry.cc",
        "event_name_filter.cc",
        "heap_profiler_allocation_context.cc",
        "heap_profiler_allocation_context_tracker.cc",
        "heap_profiler_event_filter.cc",
        "malloc_dump_provider.cc",
        "memory_allocator_dump.cc",
        "memory_allocator_dump_guid.cc",
        "memory_dump_manager.cc",
        "memory_dump_provider_info.cc",
        "memory_dump_request_args.cc",
        "memory_dump_scheduler.cc",
        "memory_infra_background_whitelist.cc",
        "memory_usage_estimator.cc",
        "process_memory_dump.cc",
        "trace_buffer.cc",
        "trace_config.cc",
        "trace_config_category_filter.cc",
        "trace_event_filter.cc",
        "trace_event_impl.cc",
        "trace_event_memory_overhead.cc",
        "trace_event_system_stats_monitor.cc",
        "trace_log.cc",
        "trace_log_constants.cc",
        "traced_value.cc",
        "tracing_agent.cc",
    ],
)

filegroup(
    name = "test_support_headers",
    srcs = [
        "trace_config_memory_test_util.h",
    ],
)

filegroup(
    name = "unit_test",
    srcs = [
        "blame_context_unittest.cc",
        "event_name_filter_unittest.cc",
        "heap_profiler_allocation_context_tracker_unittest.cc",
        "memory_allocator_dump_unittest.cc",
        "memory_dump_manager_unittest.cc",
        "memory_dump_scheduler_unittest.cc",
        "memory_infra_background_whitelist_unittest.cc",
        "memory_usage_estimator_unittest.cc",
        "process_memory_dump_unittest.cc",
        "trace_category_unittest.cc",
        "trace_config_unittest.cc",
        "trace_event_filter_test_utils.cc",
        "trace_event_filter_test_utils.h",
        "trace_event_system_stats_monitor_unittest.cc",
        "trace_event_unittest.cc",
        "traced_value_unittest.cc",
    ],
)
